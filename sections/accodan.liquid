<div class="bm-container page-width ">
  <div class="accordion-content-wrapper">
    <h1>{{ section.settings.title }}</h1>

    {% for accordion in section.blocks %}
      <button class="accordion">{{ accordion.settings.title }}</button>
      <div class="accordion-content">
        <p>
          {{ accordion.settings.content }}
        </p>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Simple Accordions",
  "settings": [
    {
      "type": "text",
      "label": "Title",
      "id": "title"
    }
  ],
  "blocks": [
    {
      "type": "accordion",
      "name": "Accordion",
      "settings": [
        {
          "type": "text",
          "label": "Accordion Title",
          "id": "title"
        },
        {
          "type": "textarea",
          "label": "Accordion Content",
          "id": "content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Simple Accordions",
      "category": "Custom"
    }
  ]
}
{% endschema %}

{% stylesheet %}
    html body button.accordion {
      width: 100%;
      border: none;
      outline: none;
      text-align: left;
      padding: 15px 0px;
      font-size: 18px;
      color: #333;
      cursor: pointer;
      transition: background-color 0.2s linear;
      background-color:transparent;
      border-bottom:1px solid black;

    }

    .accordion-content{
      display:none;
    }

    button.accordion:hover,
    button.accordion.is-open {
      background-color: transparent !important;
    }



    html body .accordion-content {
      border-left: 1px solid whitesmoke;
      border-right: 1px solid whitesmoke;
      padding: 0px ;
      display:none;
      overflow: hidden;
      transition: max-height 0.2s ease-in-out;
    }

    html body .accordion-content.is-open{
     display:block;
    }
    html body .accordion-content-wrapper h1{
    text-align:center;
  }

     html body .bm-container{
       background: #daecfa;
       border-radius: 16px;
       padding: 80px;
       width: 80%;
       margin: 50px auto;
  }

   html body .accordion-content-wrapper .accordion:after{
     content:'+';
     width:15px;
     height:15px;
     border-radius:100%;
     border:1px solid #000;

  }
{% endstylesheet %}

<script>
    function remove(){
      var accontent=document.querySelectorAll('.accordion-content')
         accontent.forEach(function(el){
         el.classList.remove('is-open')
  })
    }

    var acc=document.querySelectorAll('.accordion')
      acc.forEach(function(el){
        el.addEventListener('click',function() {
      remove()
      el.nextElementSibling.classList.add('is-open')
        })
      })
</script>
