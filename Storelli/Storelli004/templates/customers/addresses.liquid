<div class="section-lg pt-3">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-xl-10 offset-xl-1">
                <a class="decorated-link" href="/account">{{ 'customer.account.return' | t }}</a>
                <h1 class="h2 mt-6 mb-6"><a href="/account">{{ 'customer.addresses.title' | t }}</a></h1>

                <div class="row">
                    <div class="col-12 col-lg-10">

                        <a class="decorated-link address-new-toggle" href="javascript:void(0)">{{ 'customer.addresses.add_new' | t }}</a>

                        <div id="AddressNewForm" class="mt-3 account-address-form hide">
                            {% form 'customer_address', customer.new_address %}
                                <h4 class="sans mb-3">{{ 'customer.addresses.add_new' | t }}</h4>
                                <div class="form-group">
                                    <label for="AddressFirstNameNew">{{ 'customer.addresses.first_name' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[first_name]" id="AddressFirstNameNew" value="{{ form.first_name }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressLastNameNew">{{ 'customer.addresses.last_name' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[last_name]" id="AddressLastNameNew" value="{{ form.last_name }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressCompanyNew">{{ 'customer.addresses.company' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[company]" id="AddressCompanyNew" value="{{ form.company }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressAddress1New">{{ 'customer.addresses.address1' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[address1]" id="AddressAddress1New" value="{{ form.address1 }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressAddress2New">{{ 'customer.addresses.address2' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[address2]" id="AddressAddress2New" value="{{ form.address2 }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressCityNew">{{ 'customer.addresses.city' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[city]" id="AddressCityNew" value="{{ form.city }}" autocapitalize="words">
                                </div>

                                <div class="form-group">
                                    <label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
                                    <select name="address[country]" class="form-control -form-control-lg"  id="AddressCountryNew" data-default="{{ form.country }}">
                                        {{ country_option_tags }}
                                    </select>
                                </div>

                                <div id="AddressProvinceContainerNew" style="display: none">
                                    <div class="form-group">
                                        <label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
                                        <select class="form-control -form-control-lg" name="address[province]" id="AddressProvinceNew" data-default="{{ form.province }}"></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="AddressZipNew">{{ 'customer.addresses.zip' | t }}</label>
                                    <input type="text" class="form-control -form-control-lg" name="address[zip]" id="AddressZipNew" value="{{ form.zip }}" autocapitalize="characters">
                                </div>

                                <div class="form-group">
                                    <label for="AddressPhoneNew">{{ 'customer.addresses.phone' | t }}</label>
                                    <input type="tel" class="form-control -form-control-lg" name="address[phone]" id="AddressPhoneNew" value="{{ form.phone }}" pattern="[0-9\-]*">
                                </div>

                                <div class="form-check">
                                    {{ form.set_as_default_checkbox }}
                                    <label class="form-check-label" for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
                                </div>

                                <div class="mt-3">
                                    <input type="submit" class="btn btn-dark btn-storelli btn-storelli-sm" value="{{ 'customer.addresses.add' | t }}">
                                    <button type="button" class="btn btn-storelli btn-storelli-sm address-new-toggle">{{ 'customer.addresses.cancel' | t }}</button>
                                </div>

                            {% endform %}
                        </div>

                        <hr>

                        {% paginate customer.addresses by 100 %}
                            {% for address in customer.addresses %}

                                <div>
                                    {% if address == customer.default_address %}
                                        <span class="badge badge-secondary mb-3 text-uppercase float-right" style="font-weight:normal">{{ 'customer.addresses.default' | t }}</span>
                                    {% endif %}
                                    <div class="account-address mb-3">
                                        {{ address | format_address }}
                                    </div>
                                    <a href="javascript:void(0)" class="decorated-link address-edit-toggle" data-form-id="{{ address.id }}">{{ 'customer.addresses.edit' | t }}</a> &mdash; 
                                    <a href="javascript:void(0)" class="decorated-link address-delete" data-form-id="{{ address.id }}" data-confirm-message="{{ 'customer.addresses.delete_confirm' | t }}">{{ 'customer.addresses.delete' | t }}</a>
                                    <div id="EditAddress_{{ address.id }}" class="account-address-form mt-3 hide">
                                        {% form 'customer_address', address %}
                                            <h4 class="sans mb-3">{{ 'customer.addresses.edit_address' | t }}</h4>

                                            <div class="form-group">
                                                <label for="AddressFirstName_{{ form.id }}">{{ 'customer.addresses.first_name' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[first_name]" id="AddressFirstName_{{ form.id }}" value="{{ form.first_name }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressLastName_{{ form.id }}">{{ 'customer.addresses.last_name' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[last_name]" id="AddressLastName_{{ form.id }}" value="{{ form.last_name }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressCompany_{{ form.id }}">{{ 'customer.addresses.company' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[company]" id="AddressCompany_{{ form.id }}" value="{{ form.company }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressAddress1_{{ form.id }}">{{ 'customer.addresses.address1' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[address1]" id="AddressAddress1_{{ form.id }}" value="{{ form.address1 }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressAddress2_{{ form.id }}">{{ 'customer.addresses.address2' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[address2]" id="AddressAddress2_{{ form.id }}" value="{{ form.address2 }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressCity_{{ form.id }}">{{ 'customer.addresses.city' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[city]" id="AddressCity_{{ form.id }}" value="{{ form.city }}" autocapitalize="words">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressCountry_{{ form.id }}">{{ 'customer.addresses.country' | t }}</label>
                                                <select class="form-control -form-control-lg" name="address[country]" id="AddressCountry_{{ form.id }}" class="address-country-option" data-form-id="{{ form.id }}" data-default="{{ form.country }}">
                                                    {{ country_option_tags }}
                                                </select>
                                            </div>

                                            <div id="AddressProvinceContainer_{{ form.id }}" style="display: none">
                                                <div class="form-group">
                                                    <label for="AddressProvince_{{ form.id }}">{{ 'customer.addresses.province' | t }}</label>
                                                    <select class="form-control -form-control-lg" name="address[province]" id="AddressProvince_{{ form.id }}" data-default="{{ form.province }}"></select>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressZip_{{ form.id }}">{{ 'customer.addresses.zip' | t }}</label>
                                                <input type="text" class="form-control -form-control-lg" name="address[zip]" id="AddressZip_{{ form.id }}" value="{{ form.zip }}" autocapitalize="characters">
                                            </div>

                                            <div class="form-group">
                                                <label for="AddressPhone_{{ form.id }}">{{ 'customer.addresses.phone' | t }}</label>
                                                <input type="tel" class="form-control -form-control-lg" name="address[phone]" id="AddressPhone_{{ form.id }}" value="{{ form.phone }}" pattern="[0-9\-]*">
                                            </div>

                                            <div class="form-check">
                                                {{ form.set_as_default_checkbox }}
                                                <label class="form-check-label" for="address_default_address_{{ form.id }}">{{ 'customer.addresses.set_default' | t }}</label>
                                            </div>

                                            <div class="mt-3">
                                                <input type="submit"  class="btn btn-dark btn-storelli btn-storelli-sm mt-3" value="{{ 'customer.addresses.update' | t }}">
                                                <button type="button" class="btn btn-storelli btn-storelli-sm mt-3 address-edit-toggle" data-form-id="{{ form.id }}">{{ 'customer.addresses.cancel' | t }}</button>
                                            </div>

                                        {% endform %}
                                    </div>
                                </div>
                                <hr>

                            {% endfor %}

                            {% if paginate.pages > 1 %}
                                {% include 'pagination' %}
                            {% endif %}

                        {% endpaginate %}
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
