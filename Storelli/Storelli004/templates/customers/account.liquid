<div class="section-lg">
    <div class="container-fluid">
        <div class="row mb-6">
            <div class="col-12 col-xl-10 offset-xl-1">
                <h1 class="h2 mb-0">{{ 'customer.account.title' | t }}</h1>
                <a class="decorated-link" href="/account/logout">{{ 'layout.customer.log_out' | t }}</a>
            </div>
        </div>

        <div class="row">
            <div class="col-12 col-lg-9 col-xl-7 offset-xl-1">
                {% paginate customer.orders by 20 %}
                    {% if customer.orders.size != 0 %}
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th style="padding-left:0">{{ 'customer.orders.order_number' | t }}</th>
                                        <th>{{ 'customer.orders.date' | t }}</th>
                                        <th>{{ 'customer.orders.payment_status' | t }}</th>
                                        <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
                                        <th>{{ 'customer.orders.total' | t }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for order in customer.orders %}
                                        <tr class="responsive-table-row">
                                            <td style="padding-left:0" data-label="{{ 'customer.orders.order_number' | t }}">{{ order.name | link_to: order.customer_url }}</td>
                                            <td data-label="{{ 'customer.orders.date' | t }}">{{ order.created_at | date: format: 'month_day_year' }}</td>
                                            <td data-label="{{ 'customer.orders.payment_status' | t }}">{{ order.financial_status_label }}</td>
                                            <td data-label="{{ 'customer.orders.fulfillment_status' | t }}">{{ order.fulfillment_status_label }}</td>
                                            <td data-label="{{ 'customer.orders.total' | t }}">{{ order.total_price | money }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>{{ 'customer.orders.none' | t }}</p>
                    {% endif %}

                    {% if paginate.pages > 1 %}
                        {% include 'pagination' %}
                    {% endif %}
                {% endpaginate %}
            </div>

            <div class="col-12 col-lg-3 col-xl-3 offset-xl-1">
                <div class="mt-6 d-lg-none"></div>
                {% if customer.first_name != blank %}
                    <div class="mt-2 mb-3">
                        <h3 class="sans mb-0" style="text-transform:none">{{ customer.name }}</h3>
                        {{ customer.email }}
                    </div>
                {% endif %}
                <div class="mb-3 account-address">
                    {{ customer.default_address | format_address }}
                </div>
                <a class="decorated-link" href="/account/addresses">
                    {{ 'customer.account.edit_addresses' | t }} ({{ customer.addresses_count }})
                </a>
            </div>
        </div>
    </div>
</div>
